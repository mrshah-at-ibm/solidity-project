resource "kubernetes_manifest" "mrshah_app_certificate" {

  depends_on = [
    kubernetes_namespace.mrshah
  ]

  manifest = {
    "apiVersion" = "cert-manager.io/v1"
    "kind" = "Certificate"
    "metadata" = {
      "name" = "app-certificate"
      "namespace" = "mrshah"
    }
    "spec" = {
      "dnsNames" = [
        "app.mrshah.space",
      ]
      "issuerRef" = {
        "group" = "cert-manager.io"
        "kind" = "ClusterIssuer"
        "name" = "cert-manager-global"
      }
      "secretName" = "app-certificate"
    }
  }
}
